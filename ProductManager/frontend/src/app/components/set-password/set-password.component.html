<div class="container mt-5" style="max-width: 450px;">
  <h3 class="mb-3 text-center">Set Your Password</h3>

  <!-- New Password -->
  <div class="form-group mb-3 position-relative">
    <input 
      [type]="showPassword ? 'text' : 'password'" 
      [(ngModel)]="newPassword" 
      placeholder="New Password" 
      class="form-control"
      (input)="validatePassword(newPassword)"
    >
    <button 
      type="button" 
      class="btn btn-sm btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2"
      (click)="togglePassword()">
      <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
    </button>
  </div>

  <!-- Password Error -->
  <div *ngIf="passwordError" class="text-danger small mb-2">
    {{ passwordError }}
  </div>

  <!-- Confirm Password -->
  <div class="form-group mb-3 position-relative">
    <input 
      [type]="showConfirmPassword ? 'text' : 'password'" 
      [(ngModel)]="confirmPassword" 
      placeholder="Confirm Password" 
      class="form-control"
    >
    <button 
      type="button" 
      class="btn btn-sm btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2"
      (click)="toggleConfirmPassword()">
      <i class="bi" [ngClass]="showConfirmPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
    </button>
  </div>

  <!-- Mismatch Error -->
  <div *ngIf="passwordMismatch && confirmPassword" class="text-danger small mb-2">
    Passwords do not match.
  </div>

  <!-- Submit Button -->
  <button 
    (click)="setPassword()" 
    class="btn btn-primary w-100" 
    [disabled]="isSubmitting">
    {{ isSubmitting ? 'Setting...' : 'Set Password' }}
  </button>
</div>
